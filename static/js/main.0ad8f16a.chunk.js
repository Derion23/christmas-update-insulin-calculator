(this["webpackJsonpinsulin-calculator"]=this["webpackJsonpinsulin-calculator"]||[]).push([[0],{11:function(e,t,a){e.exports=a(16)},16:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),c=a.n(o),l=a(10),u=a(5),i=a(2),m=a(7),d=a(1);a(3);function s(e){var t=e.id,a=e.name,r=void 0===a?"":a,o=e.value,c=void 0===o?"":o,l=e.onChange,u=void 0===l?"":l,i=e.description,m=void 0===i?"":i,d=e.placeholder,s=void 0===d?"":d,b=e.unit,h=void 0===b?"":b;return n.a.createElement("div",null,n.a.createElement("label",null,m),n.a.createElement("br",null),n.a.createElement("input",{id:t,name:r,placeholder:s,value:c,onChange:""===u?function(){return 0}:function(e){return u(e)}}),n.a.createElement("label",null,h))}function b(e){var t=e.setBloodSugar,a=e.setTargetBloodSugar,r=e.setCorrectionFactor,o=e.setCarbohydrateFactor,c=e.bloodSugar,l=e.targetBloodSugar,u=e.correctionFactor,i=e.carbohydrateFactor;return n.a.createElement("div",null,n.a.createElement(s,{name:"BloodSugar",value:c.toString(),description:"Blutzucker",unit:"mg/dl",onChange:function(e){return t(e.target.value)}}),n.a.createElement(s,{name:"TargetBloodSugar",value:l,description:"Blutzucker Zielwert",unit:"mg/dl",onChange:function(e){return a(e.target.value)}}),n.a.createElement(s,{name:"CorrectionFactor",value:u,description:"Korrektur-Faktor",unit:"mg/dl",onChange:function(e){return r(e.target.value)}}),n.a.createElement(s,{name:"CarbohydrateFactor",value:i,description:"KE-Faktor",onChange:function(e){return o(e.target.value)}}))}function h(e){var t=e.id,a=e.name,r=void 0===a?"":a,o=e.grams,c=void 0===o?"":o,l=e.carbohydratesPer100Grams,u=void 0===l?"":l,i=e.isIntermeal,m=void 0!==i&&i,d=e.handleIsIntermealChange,b=e.handleChange,h=e.deleteFoodItem;return n.a.createElement("div",null,n.a.createElement("button",{className:"delete-food-item-button",onClick:function(){return h(t)}},"x"),n.a.createElement("label",{className:"intermeal-checkbox"},n.a.createElement("input",{type:"checkbox",checked:m,onChange:function(){return d(t)}})," ZM?"),n.a.createElement(s,{id:t,name:"name",description:"Name",value:r,onChange:function(e){return b(e)}}),n.a.createElement(s,{id:t,name:"grams",description:"Gramm",value:c,onChange:function(e){return b(e)}}),n.a.createElement(s,{id:t,name:"carbohydratesPer100Grams",description:"Kohlenhydrate pro 100g",value:u,onChange:function(e){return b(e)}}),n.a.createElement("hr",null))}function g(e){var t=e.foodItems,a=void 0===t?[]:t,r=e.addNewFoodItem,o=e.handleIsIntermealChange,c=e.handleChange,l=e.deleteFoodItem;return n.a.createElement("div",null,n.a.createElement("h3",null,"Elemente"),a.map((function(e){return n.a.createElement(h,{key:e.key,id:e.id,name:e.name,grams:e.grams,carbohydratesPer100Grams:e.carbohydratesPer100Grams,isIntermeal:e.isIntermeal,handleIsIntermealChange:o,handleChange:c,deleteFoodItem:l})})),n.a.createElement("p",null,n.a.createElement("button",{className:"add-new-food-item-button",onClick:function(){return r()}})))}function f(e){var t=e.totalIE,a=e.totalMainMealKE,r=e.totalIntermealKE,o=e.totalKE,c=e.totalCorrectionInsulin,l=e.outputRef;return n.a.createElement("div",{ref:l},""===t||void 0==t||t<=0?"":n.a.createElement("p",{className:"output"},"Hauptmahlzeit-KE : ",a," KE ",n.a.createElement("br",null),"Zwischenmahlzeit-KE : ",r," KE ",n.a.createElement("br",null),"Gesamt-KE: ",o," KE ",n.a.createElement("br",null),n.a.createElement("br",null),"Korrektur-Insulin: ",c," IE  ",n.a.createElement("br",null),"Gesamt-Insulin: ",t," IE"))}function v(e,t){var a="insulin-calculator-"+e,n=Object(r.useState)((function(){var e=localStorage.getItem(a);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),o=Object(d.a)(n,2),c=o[0],l=o[1];return Object(r.useEffect)((function(){null!=c&&localStorage.setItem(a,JSON.stringify(c))}),[a,c]),[c,l]}function E(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),a=t[0],o=t[1],c=v("".concat($(),"-targetBloodSugar")),s=Object(d.a)(c,2),h=s[0],E=s[1],I=v("".concat($(),"-correctionFactor")),O=Object(d.a)(I,2),p=O[0],j=O[1],C=v("".concat($(),"-carbohydrateFactor")),y=Object(d.a)(C,2),S=y[0],F=y[1],k=Object(r.useState)([]),K=Object(d.a)(k,2),N=K[0],G=K[1],w=Object(r.useState)(""),B=Object(d.a)(w,2),M=B[0],P=B[1],J=Object(r.useState)(""),x=Object(d.a)(J,2),z=x[0],R=x[1],T=Object(r.useState)(""),L=Object(d.a)(T,2),Z=L[0],A=L[1],D=Object(r.useState)(""),H=Object(d.a)(D,2),V=H[0],W=H[1],q=Object(r.useState)(""),Q=Object(d.a)(q,2),U=Q[0],X=Q[1],Y=Object(r.useRef)();function $(){var e=(new Date).toLocaleTimeString().split(":"),t=Object(d.a)(e,2),a=t[0]+t[1]/60;return a<=11.5?"morning":a<=16?"midday":"evening"}return n.a.createElement("div",null,n.a.createElement("h1",null,"Insulin Rechner"),n.a.createElement(b,{setBloodSugar:o,setTargetBloodSugar:E,setCorrectionFactor:j,setCarbohydrateFactor:F,bloodSugar:a,targetBloodSugar:h,correctionFactor:p,carbohydrateFactor:S}),n.a.createElement(g,{foodItems:N,addNewFoodItem:function(){var e=[].concat(Object(m.a)(N),[{key:Math.random(),id:Math.random(),isIntermeal:!1}]);G(e)},handleIsIntermealChange:function(e){var t=N.map((function(t){return e==t.id?Object(i.a)(Object(i.a)({},t),{},{isIntermeal:!t.isIntermeal}):t}));G(t)},handleChange:function(e){var t=e.target,a=t.name,r=t.value,n=t.id,o=N.map((function(e){if(n==e.id){if("name"===a){var t="".concat("insulin-calculator-","foodItem-").concat(r.toLowerCase(),"-carbohydratesPer100Grams"),o=localStorage.getItem(t);if(null!=o){var c,l=JSON.parse(o);return Object(i.a)(Object(i.a)({},e),{},(c={},Object(u.a)(c,a,r),Object(u.a)(c,"carbohydratesPer100Grams",l),c))}}if("carbohydratesPer100Grams"===a&&""!==e.name){var m="".concat("insulin-calculator-","foodItem-").concat(e.name.toLowerCase(),"-carbohydratesPer100Grams");localStorage.setItem(m,JSON.stringify(r))}return Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},a,r))}return e}));G(o)},deleteFoodItem:function(e){for(var t,a=0;a<N.length;a++)if(e==N[a].id){t=a;break}var r=Object(m.a)(N);r.splice(t,1),G(r)}}),n.a.createElement("button",{className:"calculateIE-button",onClick:function(){var e="ein oder mehrere Werte sind nicht g\xfcltig";function t(e){var t=e.slice();t=t.replace(",",".");var a=parseFloat(t);return Number.isNaN(a)?-1:a}function r(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];for(var n=0,o=a;n<o.length;n++){var c=o[n];if(-1===t(c))return!1}return!0}function n(a){return r(a.grams,a.carbohydratesPer100Grams)?t(a.grams)*(t(a.carbohydratesPer100Grams)/100)/10:(alert(e),0)}var o=function(a,n,o){return r(a,n,o)?(t(a)-t(n))/t(o):(""!==a&&alert(e),0)}(a,h,p);A(Math.round(10*o)/10);var c,u=0,i=0,m=Object(l.a)(N);try{for(m.s();!(c=m.n()).done;){var d=c.value;u+=n(d),i+=d.isIntermeal?n(d):0}}catch(b){m.e(b)}finally{m.f()}if(R(Math.round(10*u)/10),W(Math.round(10*i)/10),X(Math.round(10*(u-i))/10),!r(S))return alert(e),-1;var s=u*t(S);s+=o,s=Math.round(10*s)/10,P(s),Y.current.scrollIntoView({smooth:!0})}},"berechne IE"),n.a.createElement(f,{totalIE:M,totalMainMealKE:U,totalIntermealKE:V,totalKE:z,totalCorrectionInsulin:Z,outputRef:Y}))}c.a.render(n.a.createElement(E,null),document.getElementById("root"))},3:function(e,t,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.0ad8f16a.chunk.js.map