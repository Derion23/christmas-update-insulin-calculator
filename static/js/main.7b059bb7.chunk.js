(this["webpackJsonpinsulin-calculator"]=this["webpackJsonpinsulin-calculator"]||[]).push([[0],{11:function(e,t,a){e.exports=a(16)},16:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),l=a.n(o),c=a(10),u=a(5),i=a(2),m=a(7),d=a(1);a(3);function s(e){var t=e.id,a=e.name,r=void 0===a?"":a,o=e.value,l=void 0===o?"":o,c=e.onChange,u=void 0===c?"":c,i=e.description,m=void 0===i?"":i,d=e.placeholder,s=void 0===d?"":d,b=e.unit,h=void 0===b?"":b;return n.a.createElement("div",null,n.a.createElement("label",null,m),n.a.createElement("br",null),n.a.createElement("input",{id:t,name:r,placeholder:s,value:l,onChange:""===u?function(){return 0}:function(e){return u(e)}}),n.a.createElement("label",null,h))}function b(e){var t=e.setBloodSugar,a=e.setTargetBloodSugar,r=e.setCorrectionFactor,o=e.setCarbohydrateFactor,l=e.bloodSugar,c=e.targetBloodSugar,u=e.correctionFactor,i=e.carbohydrateFactor;return n.a.createElement("div",null,n.a.createElement(s,{name:"BloodSugar",value:l.toString(),description:"Blutzucker",unit:"mg/dl",onChange:function(e){return t(e.target.value)}}),n.a.createElement(s,{name:"TargetBloodSugar",value:c,description:"Blutzucker Zielwert",unit:"mg/dl",onChange:function(e){return a(e.target.value)}}),n.a.createElement(s,{name:"CorrectionFactor",value:u,description:"Korrektur-Faktor",unit:"mg/dl",onChange:function(e){return r(e.target.value)}}),n.a.createElement(s,{name:"CarbohydrateFactor",value:i,description:"KE-Faktor",onChange:function(e){return o(e.target.value)}}))}function h(e){var t=e.id,a=e.name,r=void 0===a?"":a,o=e.grams,l=void 0===o?"":o,c=e.carbohydratesPer100Grams,u=void 0===c?"":c,i=e.isIntermeal,m=void 0!==i&&i,d=e.handleIsIntermealChange,b=e.handleChange,h=e.deleteFoodItem;return n.a.createElement("div",null,n.a.createElement("button",{className:"delete-food-item-button",onClick:function(){return h(t)}},"x"),n.a.createElement("label",{className:"intermeal-checkbox"},n.a.createElement("input",{type:"checkbox",checked:m,onChange:function(){return d(t)}})," ZM?"),n.a.createElement(s,{id:t,name:"name",description:"Name",value:r,onChange:function(e){return b(e)}}),n.a.createElement(s,{id:t,name:"grams",description:"Gramm",value:l,onChange:function(e){return b(e)}}),n.a.createElement(s,{id:t,name:"carbohydratesPer100Grams",description:"Kohlenhydrate pro 100g",value:u,onChange:function(e){return b(e)}}),n.a.createElement("hr",null))}function g(e){var t=e.foodItems,a=void 0===t?[]:t,r=e.addNewFoodItem,o=e.handleIsIntermealChange,l=e.handleChange,c=e.deleteFoodItem;return n.a.createElement("div",null,n.a.createElement("h3",null,"Elemente"),a.map((function(e){return n.a.createElement(h,{key:e.key,id:e.id,name:e.name,grams:e.grams,carbohydratesPer100Grams:e.carbohydratesPer100Grams,isIntermeal:e.isIntermeal,handleIsIntermealChange:o,handleChange:l,deleteFoodItem:c})})),n.a.createElement("p",null,n.a.createElement("button",{className:"add-new-food-item-button",onClick:function(){return r()}})))}function f(e){var t=e.totalIE,a=e.totalMainMealKE,r=e.totalIntermealKE,o=e.totalKE,l=e.totalCorrectionInsulin,c=e.outputRef;return n.a.createElement("div",{ref:c},""===t||void 0==t||t<=0?"":n.a.createElement("p",{className:"output"},"Hauptmahlzeit-KE : ",a," KE ",n.a.createElement("br",null),"Zwischenmahlzeit-KE : ",r," KE ",n.a.createElement("br",null),"Gesamt-KE: ",o," KE ",n.a.createElement("br",null),n.a.createElement("br",null),"Korrektur-Insulin: ",l," IE  ",n.a.createElement("br",null),"Gesamt-Insulin: ",t," IE"))}function v(e,t){var a="insulin-calculator-"+e,n=Object(r.useState)((function(){var e=localStorage.getItem(a);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),o=Object(d.a)(n,2),l=o[0],c=o[1];return Object(r.useEffect)((function(){null!=l&&localStorage.setItem(a,JSON.stringify(l))}),[a,l]),[l,c]}function E(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),a=t[0],o=t[1],l=v("".concat($(),"-targetBloodSugar")),s=Object(d.a)(l,2),h=s[0],E=s[1],I=v("".concat($(),"-correctionFactor")),O=Object(d.a)(I,2),p=O[0],j=O[1],C=v("".concat($(),"-carbohydrateFactor")),S=Object(d.a)(C,2),y=S[0],F=S[1],k=Object(r.useState)([]),K=Object(d.a)(k,2),N=K[0],G=K[1],w=Object(r.useState)(""),B=Object(d.a)(w,2),M=B[0],P=B[1],J=Object(r.useState)(""),x=Object(d.a)(J,2),z=x[0],R=x[1],T=Object(r.useState)(""),L=Object(d.a)(T,2),Z=L[0],A=L[1],D=Object(r.useState)(""),H=Object(d.a)(D,2),V=H[0],W=H[1],q=Object(r.useState)(""),Q=Object(d.a)(q,2),U=Q[0],X=Q[1],Y=Object(r.useRef)();function $(){var e=(new Date).toLocaleTimeString().split(":"),t=Object(d.a)(e,2),a=t[0]+t[1]/60;return a<=11.5?"morning":a<=16?"midday":"evening"}return n.a.createElement("div",null,n.a.createElement("h1",null,"Insulin Rechner"),n.a.createElement(b,{setBloodSugar:o,setTargetBloodSugar:E,setCorrectionFactor:j,setCarbohydrateFactor:F,bloodSugar:a,targetBloodSugar:h,correctionFactor:p,carbohydrateFactor:y}),n.a.createElement(g,{foodItems:N,addNewFoodItem:function(){var e=[].concat(Object(m.a)(N),[{key:Math.random(),id:Math.random(),isIntermeal:!1}]);G(e)},handleIsIntermealChange:function(e){var t=N.map((function(t){return e==t.id?Object(i.a)(Object(i.a)({},t),{},{isIntermeal:!t.isIntermeal}):t}));G(t)},handleChange:function(e){var t=e.target,a=t.name,r=t.value,n=t.id,o=N.map((function(e){if(n==e.id){if("name"===a){var t="".concat("insulin-calculator-","foodItem-").concat(r.toLowerCase(),"-carbohydratesPer100Grams"),o=localStorage.getItem(t);if(null!=o){var l,c=JSON.parse(o);return Object(i.a)(Object(i.a)({},e),{},(l={},Object(u.a)(l,a,r),Object(u.a)(l,"carbohydratesPer100Grams",c),l))}}if("carbohydratesPer100Grams"===a&&""!==e.name){var m="".concat("insulin-calculator-","foodItem-").concat(e.name.toLowerCase(),"-carbohydratesPer100Grams");""!==r?localStorage.setItem(m,JSON.stringify(r)):localStorage.removeItem(m)}return Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},a,r))}return e}));G(o)},deleteFoodItem:function(e){for(var t,a=0;a<N.length;a++)if(e==N[a].id){t=a;break}var r=Object(m.a)(N);r.splice(t,1),G(r)}}),n.a.createElement("button",{className:"calculateIE-button",onClick:function(){var e="ein oder mehrere Werte sind nicht g\xfcltig";function t(e){var t=e.slice();t=t.replace(",",".");var a=parseFloat(t);return Number.isNaN(a)?-1:a}function r(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];for(var n=0,o=a;n<o.length;n++){var l=o[n];if(-1===t(l))return!1}return!0}function n(a){return r(a.grams,a.carbohydratesPer100Grams)?t(a.grams)*(t(a.carbohydratesPer100Grams)/100)/10:(alert(e),0)}var o=function(a,n,o){return r(a,n,o)?(t(a)-t(n))/t(o):(""!==a&&alert(e),0)}(a,h,p);A(Math.round(10*o)/10);var l,u=0,i=0,m=Object(c.a)(N);try{for(m.s();!(l=m.n()).done;){var d=l.value;u+=n(d),i+=d.isIntermeal?n(d):0}}catch(b){m.e(b)}finally{m.f()}if(R(Math.round(10*u)/10),W(Math.round(10*i)/10),X(Math.round(10*(u-i))/10),!r(y))return alert(e),-1;var s=u*t(y);s+=o,s=Math.round(10*s)/10,P(s),Y.current.scrollIntoView({smooth:!0})}},"berechne IE"),n.a.createElement(f,{totalIE:M,totalMainMealKE:U,totalIntermealKE:V,totalKE:z,totalCorrectionInsulin:Z,outputRef:Y}))}l.a.render(n.a.createElement(E,null),document.getElementById("root"))},3:function(e,t,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.7b059bb7.chunk.js.map