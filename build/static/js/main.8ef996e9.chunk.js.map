{"version":3,"sources":["Components/Input.js","Components/FixedInformationSection.js","Components/Suggestion.js","Components/SuggestionList.js","Components/FoodItem.js","Components/ListSection.js","Components/Output.js","hooks/useLocalStorage.js","App.js","index.js"],"names":["Input","id","type","name","value","onChange","description","placeholder","unit","autoComplete","event","FixedInformationSection","setBloodSugar","setTargetBloodSugar","setCorrectionFactor","setCarbohydrateFactor","bloodSugar","targetBloodSugar","correctionFactor","carbohydrateFactor","toString","target","Suggestion","suggestionText","handleSuggestionClick","onClick","SuggestionList","allSuggestions","searchingText","matchingSuggestions","filter","slice","length","toLowerCase","className","map","key","Math","random","FoodItem","slide1","activeSlideIdx","slide2","foodNameSuggestions","handleIsIntermealChange","handleSlide1ValueChange","handleSlide2ValueChange","deleteFoodItem","slide1Html","handleSlideChange","checked","isIntermeal","shouldDisplaySuggestions","grams","carbohydratesPer100Grams","numberOfPieces","carbohydratesPerPiece","ListSection","foodItems","addNewFoodItem","element","Output","totalIE","totalMainMealKE","totalIntermealKE","totalKE","totalCorrectionInsulin","outputRef","ref","undefined","SwiperCore","use","Pagination","useLocalStorage","initialValue","prefixedKey","useState","jsonValue","localStorage","getItem","JSON","parse","setValue","useEffect","setItem","stringify","PREFIX","App","setFoodNameSuggestions","getCurrentDayTime","setFoodItems","setTotalIE","setTotalKE","setTotalCorrectionInsulin","setTotalIntermealKE","setTotalMainMealKE","useRef","capitalize","string","toUpperCase","Date","toLocaleTimeString","split","hours","minutes","time","toNumberFormat","newFoodItems","foodItem","isNameValid","newFoodNameSuggestion","toAddFoodNameSuggestions","newFoodNameSuggestions","Array","isArray","NewFoodNameSuggestion","some","foodNameSuggestion","addNewFoodNameSuggestions","removeItem","toDeleteFoodNameSuggestion","removeIdx","idx","splice","deleteFoodNameSuggestion","hasNameChanged","stringCopy","replace","number","parseFloat","Number","isNaN","calculateIE","shouldScroll","ERROR_MESSAGE","areItemsTypeofNumber","items","every","item","calculateKE","alert","calculateCorrectionInsulin","correctionInsulin","round","KE","intermealKE","foodItemKE","IE","setTimeout","current","scrollIntoView","smooth","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8ef996e9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport '../css/style.css'\r\n\r\nexport default function Input(\r\n    {id, type='text', name='',value='', onChange='', description='', placeholder='', unit=''}) {\r\n    return (\r\n        <div>\r\n            <label> \r\n                {description}\r\n            </label>\r\n            <br />\r\n            <input\r\n                type={type}\r\n                autoComplete='off'\r\n                id={id}\r\n                name={name}\r\n                placeholder={placeholder}\r\n                value={value}\r\n                onChange={onChange === '' ? () => 0 : (event) => onChange(event)}\r\n            ></input>\r\n            <label>\r\n                {unit}\r\n            </label>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport '../css/style.css'\r\nimport Input from './Input'\r\n\r\nexport default function FixedInformationSection(\r\n    {setBloodSugar, \r\n    setTargetBloodSugar, \r\n    setCorrectionFactor,\r\n    setCarbohydrateFactor,\r\n    bloodSugar, \r\n    targetBloodSugar, \r\n    correctionFactor, \r\n    carbohydrateFactor\r\n    }) {\r\n    \r\n    return (\r\n        <div>\r\n            <Input \r\n                name = 'BloodSugar'\r\n                value = {bloodSugar.toString()}\r\n                description = 'Blutzucker'\r\n                unit = 'mg/dl'\r\n                onChange = {(event) => setBloodSugar(event.target.value)}\r\n            />\r\n            <Input \r\n                name = 'TargetBloodSugar'\r\n                value = {targetBloodSugar}\r\n                description = 'Blutzucker Zielwert'\r\n                unit = 'mg/dl'\r\n                onChange = {(event) => setTargetBloodSugar(event.target.value)}\r\n            />\r\n            <Input \r\n                name = 'CorrectionFactor'\r\n                value = {correctionFactor}\r\n                description = 'Korrektur-Faktor'\r\n                unit = 'mg/dl'\r\n                onChange = {(event) => setCorrectionFactor(event.target.value)}\r\n            />\r\n            <Input \r\n                name = 'CarbohydrateFactor'\r\n                value = {carbohydrateFactor}\r\n                description = 'KE-Faktor'\r\n                onChange = {(event) => setCarbohydrateFactor(event.target.value)}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Suggestion({suggestionText, handleSuggestionClick}) {\r\n    return (\r\n        <li\r\n            onClick={() => handleSuggestionClick(suggestionText)}\r\n        >\r\n            {suggestionText}\r\n        </li>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport Suggestion from './Suggestion.js'\r\n\r\nexport default function SuggestionList({allSuggestions, searchingText, handleSuggestionClick}) {\r\n    \r\n    const matchingSuggestions = searchingText === '' ? [] : allSuggestions.filter(suggestionText => {\r\n        const potentialMatch = suggestionText.slice(0, searchingText.length)\r\n        return potentialMatch.toLowerCase() === searchingText.toLowerCase()\r\n    })\r\n    \r\n    return (\r\n        <div>\r\n            {matchingSuggestions.length !== 0 && <ul className='suggestion-list'>\r\n                {matchingSuggestions.map(suggestionText => <Suggestion \r\n                    key={Math.random()} \r\n                    suggestionText={suggestionText} \r\n                    handleSuggestionClick={handleSuggestionClick}\r\n                />)}\r\n            </ul>}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Swiper, SwiperSlide} from 'swiper/react'\r\nimport SwiperCore, {Pagination} from 'swiper'\r\nimport 'swiper/swiper-bundle.min.css'\r\n\r\nimport '../css/style.css'\r\nimport Input from './Input'\r\nimport SuggestionList from './SuggestionList.js'\r\n\r\nSwiperCore.use([Pagination])\r\n\r\nexport default function FoodItem(\r\n    {id, \r\n    activeSlideIdx,\r\n    slide1,\r\n    slide2,\r\n\r\n    foodNameSuggestions,\r\n    handleIsIntermealChange, \r\n    handleSlide1ValueChange,\r\n    handleSlide2ValueChange,\r\n    deleteFoodItem,\r\n    handleSuggestionClick,\r\n    handleSlideChange\r\n    }) {\r\n\r\n    const slide1Html = \r\n    <>\r\n        <label className='intermeal-checkbox'>\r\n                <input\r\n                    type = 'checkbox'\r\n                    checked = {slide1.isIntermeal}\r\n                    onChange = {() => handleIsIntermealChange(id, 1)}\r\n                ></input> ZM?\r\n        </label>\r\n\r\n        <Input \r\n            id = {id}\r\n            name = 'name'\r\n            description = 'Name'\r\n            value = {slide1.name}\r\n            onChange = {(event) => handleSlide1ValueChange(event)}\r\n        />\r\n        {slide1.shouldDisplaySuggestions && <SuggestionList \r\n            allSuggestions={foodNameSuggestions}\r\n            searchingText={slide1.name}\r\n            handleSuggestionClick={(suggestionText) => handleSuggestionClick(suggestionText, id)}\r\n        />}\r\n\r\n        <Input\r\n            id = {id}\r\n            name = 'grams'\r\n            type='number'\r\n            description = 'Gramm'\r\n            value = {slide1.grams}\r\n            onChange = {(event) => handleSlide1ValueChange(event)}\r\n        />\r\n        <Input\r\n            id = {id}\r\n            name = 'carbohydratesPer100Grams'\r\n            type='number'\r\n            description = 'Kohlenhydrate pro 100g'\r\n            value = {slide1.carbohydratesPer100Grams}\r\n            onChange = {(event) => handleSlide1ValueChange(event)}\r\n        />\r\n    </>\r\n\r\n    const slide2Html = \r\n    <>\r\n         <label className='intermeal-checkbox'>\r\n                <input\r\n                    type = 'checkbox'\r\n                    checked = {slide2.isIntermeal}\r\n                    onChange = {() => handleIsIntermealChange(id, 2)}\r\n                ></input> ZM?\r\n        </label>\r\n\r\n        <Input \r\n            id = {id}\r\n            name = 'name'\r\n            description = 'Name'\r\n            value = {slide2.name}\r\n            onChange = {(event) => handleSlide2ValueChange(event)}\r\n        />\r\n\r\n        <Input \r\n            id = {id}\r\n            name = 'numberOfPieces'\r\n            type='number'\r\n            description = 'Anzahl'\r\n            value = {slide2.numberOfPieces}\r\n            onChange = {(event) => handleSlide2ValueChange(event)}\r\n        />\r\n\r\n        <Input \r\n            id = {id}\r\n            name = 'carbohydratesPerPiece'\r\n            type='number'\r\n            description = 'Kohlenhydrate pro Stück'\r\n            value = {slide2.carbohydratesPerPiece}\r\n            onChange = {(event) => handleSlide2ValueChange(event)}\r\n        />\r\n    </>\r\n\r\n    const slides = [slide1Html, slide2Html]\r\n\r\n    return (\r\n        <div>\r\n            <button\r\n                className = 'delete-food-item-button'\r\n                onClick={() => deleteFoodItem(id)}\r\n            ></button>\r\n\r\n            {slide1Html}\r\n            {/*  <Swiper \r\n                id='main'\r\n                tag='section'\r\n                wrapperTag='ul'\r\n                pagination={{clickable:true}}\r\n                onSlideChange={(swiper) => handleSlideChange(id, swiper.activeIndex)}\r\n                >\r\n                {slides.map((slide, idx) => (\r\n                     <SwiperSlide \r\n                        key={idx}\r\n                        tag='li'\r\n                        style= {{ listStyle: 'none' }}\r\n                        >\r\n                        {slide}\r\n                    </SwiperSlide>\r\n                ))}\r\n                \r\n            </Swiper> */}\r\n\r\n            <hr />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport '../css/style.css'\r\nimport FoodItem from './FoodItem'\r\n\r\nexport default function ListSection(\r\n    {foodItems=[], \r\n    foodNameSuggestions=[],\r\n    addNewFoodItem, \r\n    handleIsIntermealChange, \r\n    handleSlide1ValueChange, \r\n    handleSlide2ValueChange, \r\n    deleteFoodItem,\r\n    handleSuggestionClick,\r\n    handleSlideChange\r\n    }) {\r\n    return (\r\n        <div>\r\n            <h3>Elemente</h3>\r\n\r\n            {foodItems.map(element => \r\n                <FoodItem \r\n                    key={element.key}\r\n                    id={element.id}\r\n                    activeSlideIdx={element.activeSlideIdx}\r\n                    slide1={element.slide1}\r\n                    slide2={element.slide2}\r\n                    \r\n                    foodNameSuggestions={foodNameSuggestions}\r\n                    handleIsIntermealChange={handleIsIntermealChange}\r\n                    handleSlide1ValueChange={handleSlide1ValueChange}\r\n                    handleSlide2ValueChange={handleSlide2ValueChange}\r\n                    deleteFoodItem={deleteFoodItem}\r\n                    handleSuggestionClick={handleSuggestionClick}\r\n                    handleSlideChange={handleSlideChange}\r\n             />)}\r\n             \r\n            <p>\r\n                <button \r\n                    className='add-new-food-item-button'\r\n                    onClick={() => addNewFoodItem()}\r\n                ></button>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport '../css/style.css'\r\n\r\nexport default function Output(\r\n    {totalIE, totalMainMealKE, totalIntermealKE, totalKE, totalCorrectionInsulin, outputRef}) {\r\n    return (\r\n        <div ref={outputRef}>\r\n            {!(totalIE === '' || totalIE == undefined || totalIE <= 0) ? \r\n\r\n                <p className='output' >\r\n                    Hauptmahlzeit-KE : {totalMainMealKE} KE <br />\r\n                    Zwischenmahlzeit-KE : {totalIntermealKE} KE <br />\r\n                    Gesamt-KE: {totalKE} KE <br />\r\n                    <br />\r\n                    Korrektur-Insulin: {totalCorrectionInsulin} IE  <br />\r\n                    Gesamt-Insulin: {totalIE} IE\r\n                </p>\r\n                \r\n             : ''}\r\n        </div>\r\n    )\r\n}\r\n","import {useEffect, useState} from 'react'\r\n\r\nconst PREFIX = \"insulin-calculator-\"\r\n\r\nexport default function useLocalStorage(key, initialValue) {\r\n    // get value\r\n    const prefixedKey = PREFIX + key\r\n    const [value, setValue] = useState(() => {\r\n        const jsonValue = localStorage.getItem(prefixedKey)\r\n        if(jsonValue != null) return JSON.parse(jsonValue)\r\n        if(typeof initialValue === \"function\"){\r\n            return initialValue()\r\n        } else{\r\n            return initialValue\r\n        }\r\n    })\r\n\r\n    // save value\r\n    useEffect(() =>{\r\n        if(value != null)\r\n            localStorage.setItem(prefixedKey, JSON.stringify(value))\r\n    }, [prefixedKey, value])\r\n\r\n    return [value, setValue]\r\n}\r\n","import React, {useState, useRef, useEffect} from 'react'\r\n\r\n\r\nimport './css/style.css'\r\nimport FixedInformationSection from './Components/FixedInformationSection'\r\nimport ListSection from './Components/ListSection'\r\nimport Output from './Components/Output.js'\r\nimport useLocalStorage from './hooks/useLocalStorage.js'\r\n\r\n\r\nconst PREFIX = \"insulin-calculator-\"\r\n\r\nexport default function App() {\r\n    const [lastSavedData, setLastSavedData] = useLocalStorage('lastSavedData')\r\n    const [foodNameSuggestions, setFoodNameSuggestions] = useLocalStorage('foodNameSuggestions', [])\r\n\r\n    const [bloodSugar, setBloodSugar] = useState('')\r\n    const [targetBloodSugar, setTargetBloodSugar] = useLocalStorage(`${getCurrentDayTime()}-targetBloodSugar`)\r\n    const [correctionFactor, setCorrectionFactor] = useLocalStorage(`${getCurrentDayTime()}-correctionFactor`)\r\n    const [carbohydrateFactor, setCarbohydrateFactor] = useLocalStorage(`${getCurrentDayTime()}-carbohydrateFactor`)\r\n\r\n    const [foodItems, setFoodItems] = useLocalStorage('foodItems', [])\r\n\r\n    const [totalIE, setTotalIE] = useState('')\r\n    const [totalKE, setTotalKE] = useState('')\r\n    const [totalCorrectionInsulin, setTotalCorrectionInsulin] = useState('')\r\n    const [totalIntermealKE, setTotalIntermealKE] = useState('')\r\n    const [totalMainMealKE, setTotalMainMealKE] = useState('')\r\n\r\n    const outputRef = useRef()\r\n\r\n    useEffect(() => {\r\n        // temporary\r\n        localStorage.removeItem('insulin-calculator-lastSavedData')\r\n\r\n        calculateIE(false)\r\n    }, [])\r\n    \r\n\r\n    function handleSlideChange(id, activeSlideIdx){\r\n        const newFoodItems = foodItems.map(foodItem => {\r\n            if(id == foodItem.id){\r\n                const slide1 = {...foodItem.slide1}\r\n                const slide2 = {...foodItem.slide2}\r\n                return {...foodItem, slide1:slide1, slide2:slide2, activeSlideIdx: activeSlideIdx + 1}\r\n            }\r\n            \r\n            return foodItem\r\n        })\r\n        setFoodItems(newFoodItems)   \r\n    }\r\n\r\n    function capitalize(string){\r\n        if(typeof string !== 'string') return ''\r\n        const capitalizedString = `${string[0].toUpperCase()}${string.slice(1)}`\r\n        return capitalizedString\r\n    }\r\n\r\n    function addNewFoodNameSuggestions(toAddFoodNameSuggestions){\r\n        let newFoodNameSuggestions = toAddFoodNameSuggestions\r\n\r\n        if(!Array.isArray(toAddFoodNameSuggestions)) newFoodNameSuggestions = [toAddFoodNameSuggestions]\r\n\r\n        newFoodNameSuggestions = newFoodNameSuggestions.filter(NewFoodNameSuggestion => {\r\n            const isAlreadyExisting = foodNameSuggestions.some(foodNameSuggestion => \r\n                NewFoodNameSuggestion === foodNameSuggestion)\r\n            return !isAlreadyExisting\r\n        })\r\n        if(newFoodNameSuggestions.length === 0) return\r\n\r\n        newFoodNameSuggestions = [...foodNameSuggestions, ...newFoodNameSuggestions]\r\n        setFoodNameSuggestions(newFoodNameSuggestions)\r\n    }\r\n\r\n    function deleteFoodNameSuggestion(toDeleteFoodNameSuggestion){\r\n        let removeIdx\r\n        for(let idx = 0; idx < foodNameSuggestions.length; idx++){\r\n            if(toDeleteFoodNameSuggestion === foodNameSuggestions[idx]){\r\n                removeIdx = idx\r\n                break\r\n            }\r\n        }\r\n        if(removeIdx == null) return\r\n\r\n        const newFoodNameSuggestions = [...foodNameSuggestions]\r\n        newFoodNameSuggestions.splice(removeIdx, 1)\r\n        setFoodNameSuggestions(newFoodNameSuggestions)\r\n    }\r\n\r\n    function clearData(){\r\n        setFoodItems([])\r\n        setTotalIE(0)\r\n    }\r\n   \r\n    function saveData(){\r\n        const newData = {\r\n            foodItems: foodItems\r\n        }\r\n        setLastSavedData(newData)\r\n    }\r\n\r\n    function loadData(){\r\n        if(lastSavedData == null) return\r\n        const {foodItems} = lastSavedData\r\n\r\n        setFoodItems(foodItems)\r\n\r\n        // not working because of async state setting\r\n        calculateIE()\r\n    }\r\n\r\n    function handleSuggestionClick(suggestionText, id){\r\n        const event = {target:{name:'name', value:suggestionText, id:id}}\r\n        handleSlide1ValueChange(event)\r\n    }\r\n\r\n    function getCurrentDayTime(){\r\n        const [hours, minutes] = new Date().toLocaleTimeString().split(':')\r\n        const time =  toNumberFormat(hours) + (toNumberFormat(minutes) / 60)\r\n        let dayTime = ''\r\n        if(time <= 11.5){\r\n            dayTime = 'morning'\r\n        } else if(time <= 16){\r\n            dayTime = 'midday'\r\n        } else {\r\n            dayTime = 'evening'\r\n        }\r\n\r\n        return dayTime\r\n    }\r\n\r\n    function addNewFoodItem(){\r\n        const id = Math.random()\r\n        const newFoodItems = [...foodItems, {\r\n            key: Math.random(),\r\n            id: id,\r\n            activeSlideIdx: 1,\r\n            slide1: {\r\n                name: '',\r\n                grams: '',\r\n                carbohydratesPer100Grams: '',\r\n                isIntermeal: false,\r\n                shouldDisplaySuggestions: true\r\n            },\r\n            slide2: {\r\n                name: '',\r\n                numberOfPieces: '',\r\n                carbohydratesPerPiece: '',\r\n                isIntermeal: false,\r\n                shouldDisplaySuggestions: true\r\n            }\r\n        }]\r\n        setFoodItems(newFoodItems)\r\n    }\r\n\r\n    function deleteFoodItem(id){\r\n        let removeIdx\r\n        for(let idx = 0; idx < foodItems.length; idx++){\r\n            if(id == foodItems[idx].id){\r\n                removeIdx = idx\r\n                break\r\n            }\r\n        }\r\n\r\n        const newFoodItems = [...foodItems]\r\n        newFoodItems.splice(removeIdx, 1)\r\n        setFoodItems(newFoodItems)\r\n    }\r\n\r\n    function handleSlide1ValueChange(event){\r\n        const {name, value, id} = event.target\r\n\r\n        if(value[value.length - 1] === '-') return\r\n\r\n        const newFoodItems = foodItems.map(foodItem => {\r\n            // would not work with !==\r\n            if(id != foodItem.id) return foodItem\r\n        \r\n            // getting the carbohydratesPer100Grams with the name from localStorage\r\n            // if they exist set the carbohydratesPer100Grams input value\r\n            if(name === 'name'){\r\n                const prefixedKey = `${PREFIX}foodItem-${value.toLowerCase()}-carbohydratesPer100Grams`\r\n                const jsonValue = localStorage.getItem(prefixedKey)\r\n                if(jsonValue != null){\r\n                    const carbohydratesPer100Grams = JSON.parse(jsonValue)\r\n\r\n                    const slide1 = {...foodItem.slide1, [name]:value, shouldDisplaySuggestions: false,\r\n                        carbohydratesPer100Grams: carbohydratesPer100Grams}\r\n\r\n                    return {...foodItem, slide1:slide1}\r\n                }\r\n            }\r\n            \r\n            // storing the carbohydratesPer100Grams with name as a key in localStorage\r\n            // storing a new foodNameSuggestion in localStorage\r\n            const isNameValid = foodItem.slide1.name !== '' && foodItem.slide1.name != null \r\n                                && foodItem.slide1.name[0] !== '.'\r\n            if(name === 'carbohydratesPer100Grams' && isNameValid){\r\n                const prefixedKey = `${PREFIX}foodItem-${foodItem.slide1.name.toLowerCase()}-carbohydratesPer100Grams`\r\n                const newFoodNameSuggestion = capitalize(foodItem.slide1.name.toLowerCase())\r\n                if(value !== '') {\r\n                    // store foodItems carbohydratesPer100Grams\r\n                    localStorage.setItem(prefixedKey, JSON.stringify(value))\r\n                    // foodNameSuggestion\r\n                    addNewFoodNameSuggestions(newFoodNameSuggestion)\r\n                } else {\r\n                    localStorage.removeItem(prefixedKey)\r\n                    // foodNameSuggestion\r\n                    deleteFoodNameSuggestion(newFoodNameSuggestion)\r\n                }\r\n            }\r\n            const hasNameChanged = name === 'name'\r\n            const slide1 = {...foodItem.slide1, [name]:value, shouldDisplaySuggestions: hasNameChanged}\r\n            return {...foodItem, slide1:slide1}\r\n        })\r\n        setFoodItems(newFoodItems)\r\n    }\r\n\r\n    function handleSlide2ValueChange(event){\r\n        const {name, value, id} = event.target\r\n\r\n        if(value[value.length - 1] === '-') return\r\n\r\n        const newFoodItems = foodItems.map(foodItem => {\r\n            // would not work with !==\r\n            if(id != foodItem.id) return foodItem\r\n        \r\n            // getting the carbohydratesPerPiece with the name from localStorage\r\n            // if they exist set the carbohydratesPerPiece input value\r\n            if(name === 'name'){\r\n                const prefixedKey = `${PREFIX}foodItem-${value.toLowerCase()}-carbohydratesPerPiece`\r\n                const jsonValue = localStorage.getItem(prefixedKey)\r\n                if(jsonValue != null){\r\n                    const carbohydratesPerPiece = JSON.parse(jsonValue)\r\n\r\n                    const slide2 = {...foodItem.slide2, [name]:value, shouldDisplaySuggestions: false,\r\n                        carbohydratesPerPiece: carbohydratesPerPiece}\r\n\r\n                    return {...foodItem, slide2:slide2}\r\n                }\r\n            }\r\n            \r\n            // storing the carbohydratesPerPiece with name as a key in localStorage\r\n            // storing a new foodNameSuggestion in localStorage\r\n            const isNameValid = foodItem.slide2.name !== '' && foodItem.slide2.name != null \r\n                                && foodItem.slide2.name[0] !== '.'\r\n            if(name === 'carbohydratesPerPiece' && isNameValid){\r\n                const prefixedKey = `${PREFIX}foodItem-${foodItem.slide2.name.toLowerCase()}-carbohydratesPerPiece`\r\n                const newFoodNameSuggestion = capitalize(foodItem.slide2.name.toLowerCase())\r\n                if(value !== '') {\r\n                    // store foodItems carbohydratesPerPiece\r\n                    localStorage.setItem(prefixedKey, JSON.stringify(value))\r\n                    // foodNameSuggestion\r\n                        //addNewFoodNameSuggestions(newFoodNameSuggestion)\r\n                } else {\r\n                    localStorage.removeItem(prefixedKey)\r\n                    // foodNameSuggestion\r\n                        //deleteFoodNameSuggestion(newFoodNameSuggestion)\r\n                }\r\n            }\r\n            const hasNameChanged = name === 'name'\r\n            const slide2 = {...foodItem.slide2, [name]:value, shouldDisplaySuggestions: hasNameChanged}\r\n            return {...foodItem, slide2:slide2}\r\n        })\r\n        setFoodItems(newFoodItems)\r\n    }\r\n\r\n    function handleIsIntermealChange(id, activeSlideIdx){\r\n        const newFoodItems = foodItems.map(foodItem => {\r\n            if(id == foodItem.id){\r\n                if(activeSlideIdx === 1){\r\n                    const slide1 = {...foodItem.slide1, isIntermeal: !foodItem.slide1.isIntermeal}\r\n                    return {...foodItem, slide1:slide1}\r\n                } else {\r\n                    const slide2 = {...foodItem.slide2, isIntermeal: !foodItem.slide2.isIntermeal}\r\n                    return {...foodItem, slide2:slide2}\r\n                }\r\n            }\r\n                \r\n            return foodItem\r\n        })\r\n        setFoodItems(newFoodItems)\r\n    }\r\n\r\n    function toNumberFormat(string){\r\n        let stringCopy = string.slice()\r\n        stringCopy = stringCopy.replace(',', '.')\r\n        const number = parseFloat(stringCopy)\r\n        return Number.isNaN(number) ? -1 : number\r\n    }\r\n\r\n    function calculateIE(shouldScroll = true){\r\n        const ERROR_MESSAGE = 'ein oder mehrere Werte sind nicht gültig'\r\n\r\n        function areItemsTypeofNumber(...items){\r\n            /* for(const item of items)\r\n                if(toNumberFormat(item) === -1) return false\r\n            return true */\r\n            return items.every(item => toNumberFormat(item) !== -1)\r\n        }\r\n\r\n        function calculateKE(foodItem){\r\n            const grams = foodItem.slide1.grams\r\n            const carbohydratesPer100Grams = foodItem.slide1.carbohydratesPer100Grams\r\n\r\n            if(!areItemsTypeofNumber(grams, carbohydratesPer100Grams)) {\r\n                alert(ERROR_MESSAGE)\r\n                return 0\r\n            }\r\n\r\n            return (toNumberFormat(grams) * (toNumberFormat(carbohydratesPer100Grams) / 100)) / 10\r\n        }\r\n\r\n        function calculateCorrectionInsulin(bloodSugar, targetBloodSugar, correctionFactor){\r\n            if(!areItemsTypeofNumber(bloodSugar, targetBloodSugar, correctionFactor)){\r\n                if(bloodSugar !== '')\r\n                    alert(ERROR_MESSAGE)\r\n                return 0\r\n            }\r\n            const correctionInsulin = (toNumberFormat(bloodSugar) - toNumberFormat(targetBloodSugar)) /\r\n                toNumberFormat(correctionFactor)\r\n            return correctionInsulin\r\n        }\r\n\r\n        // correction insulin\r\n        const correctionInsulin = calculateCorrectionInsulin(bloodSugar, targetBloodSugar, correctionFactor)\r\n        setTotalCorrectionInsulin(Math.round(correctionInsulin * 10) / 10)\r\n\r\n        // total KE | totalIntermealKE\r\n        let KE = 0, intermealKE = 0\r\n        for(const foodItem of foodItems){\r\n            const foodItemKE = calculateKE(foodItem)\r\n            KE += foodItemKE\r\n            intermealKE += foodItem.slide1.isIntermeal ? foodItemKE : 0\r\n        }\r\n        setTotalKE(Math.round(KE * 10) / 10)\r\n        setTotalIntermealKE(Math.round(intermealKE * 10) / 10)\r\n        setTotalMainMealKE(Math.round((KE - intermealKE) * 10) / 10)\r\n        \r\n        // total IE\r\n        if(!areItemsTypeofNumber(carbohydrateFactor)) {\r\n            alert(ERROR_MESSAGE)\r\n            return -1\r\n        }\r\n\r\n        let IE = KE * toNumberFormat(carbohydrateFactor)\r\n        IE += correctionInsulin\r\n        IE = Math.round(IE * 10) / 10\r\n\r\n        setTotalIE(IE)\r\n        \r\n        // needed because of async state setting\r\n        if(shouldScroll)\r\n            setTimeout(() => {\r\n                outputRef.current.scrollIntoView({smooth:true})\r\n            }, 5)\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <h1>Insulin Rechner</h1>\r\n            <p>\r\n                {/* <button\r\n                    className='load-data-button'\r\n                    onClick = {loadData}\r\n                >Daten laden</button> */}\r\n                <button\r\n                    className='clear-data-button'\r\n                    onClick = {clearData}\r\n                >Daten löschen</button>\r\n            </p>\r\n\r\n            <FixedInformationSection \r\n                setBloodSugar={setBloodSugar}\r\n                setTargetBloodSugar={setTargetBloodSugar}\r\n                setCorrectionFactor={setCorrectionFactor}\r\n                setCarbohydrateFactor={setCarbohydrateFactor}\r\n                bloodSugar={bloodSugar}\r\n                targetBloodSugar={targetBloodSugar}\r\n                correctionFactor={correctionFactor}\r\n                carbohydrateFactor={carbohydrateFactor}\r\n            />\r\n\r\n            <ListSection \r\n                foodItems={foodItems}\r\n                foodNameSuggestions={foodNameSuggestions}\r\n                addNewFoodItem={addNewFoodItem}\r\n                handleIsIntermealChange={handleIsIntermealChange}\r\n                handleSlide1ValueChange={handleSlide1ValueChange}\r\n                handleSlide2ValueChange={handleSlide2ValueChange}\r\n                deleteFoodItem={deleteFoodItem}\r\n                handleSuggestionClick={handleSuggestionClick}\r\n                handleSlideChange={handleSlideChange}\r\n            />\r\n\r\n            {/* <button\r\n                className='save-data-button'\r\n                onClick = {saveData}\r\n            >Daten speichen</button> */}\r\n\r\n            <button \r\n                className='calculateIE-button'\r\n                onClick={calculateIE}\r\n            >Berechne IE</button>\r\n            \r\n            \r\n            <Output \r\n                totalIE={totalIE}\r\n                totalMainMealKE={totalMainMealKE}\r\n                totalIntermealKE={totalIntermealKE}\r\n                totalKE={totalKE}\r\n                totalCorrectionInsulin={totalCorrectionInsulin}\r\n                outputRef={outputRef}\r\n            />\r\n        </div>  \r\n    )\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from \"react-dom\"\r\n\r\nimport App from './App.js'\r\n\r\nReactDOM.render(\r\n    <App />, \r\n    document.getElementById('root')\r\n)"],"sourceRoot":""}