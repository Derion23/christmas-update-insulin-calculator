(this["webpackJsonpinsulin-calculator"]=this["webpackJsonpinsulin-calculator"]||[]).push([[0],{11:function(e,t,a){e.exports=a(16)},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),c=a(10),u=a(5),i=a(2),m=a(7),s=a(1);a(3);function d(e){var t=e.id,a=e.name,n=void 0===a?"":a,o=e.value,l=void 0===o?"":o,c=e.onChange,u=void 0===c?"":c,i=e.description,m=void 0===i?"":i,s=e.placeholder,d=void 0===s?"":s,g=e.unit,h=void 0===g?"":g;return r.a.createElement("div",null,r.a.createElement("label",null,m),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:t,name:n,placeholder:d,value:l,onChange:""===u?function(){return 0}:function(e){return u(e)}}),r.a.createElement("label",null,h))}function g(e){var t=e.setBloodSugar,a=e.setTargetBloodSugar,n=e.setCorrectionFactor,o=e.setCarbohydrateFactor,l=e.bloodSugar,c=e.targetBloodSugar,u=e.correctionFactor,i=e.carbohydrateFactor;return r.a.createElement("div",null,r.a.createElement(d,{name:"BloodSugar",value:l.toString(),description:"Blutzucker",unit:"mg/dl",onChange:function(e){return t(e.target.value)}}),r.a.createElement(d,{name:"TargetBloodSugar",value:c,description:"Blutzucker Zielwert",unit:"mg/dl",onChange:function(e){return a(e.target.value)}}),r.a.createElement(d,{name:"CorrectionFactor",value:u,description:"Korrektur-Faktor",unit:"mg/dl",onChange:function(e){return n(e.target.value)}}),r.a.createElement(d,{name:"CarbohydrateFactor",value:i,description:"KE-Faktor",onChange:function(e){return o(e.target.value)}}))}function h(e){var t=e.suggestionText,a=e.handleSuggestionClick;return r.a.createElement("li",{onClick:function(){return a(t)}},t)}function b(e){var t=e.allSuggestions,a=e.searchingText,n=e.handleSuggestionClick;return r.a.createElement("div",null,""!==a&&r.a.createElement("ul",null,t.filter((function(e){return e.slice(0,a.length)===a.toLowerCase()})).map((function(e){return r.a.createElement(h,{key:Math.random(),suggestionText:e,handleSuggestionClick:n})}))))}function f(e){var t=e.id,a=e.name,n=void 0===a?"":a,o=e.grams,l=void 0===o?"":o,c=e.carbohydratesPer100Grams,u=void 0===c?"":c,i=e.isIntermeal,m=void 0!==i&&i,s=e.handleIsIntermealChange,g=e.handleChange,h=e.deleteFoodItem,f=e.suggestions,v=void 0!==f&&f,E=e.handleSuggestionClick;return r.a.createElement("div",null,r.a.createElement("button",{className:"delete-food-item-button",onClick:function(){return h(t)}}),r.a.createElement("label",{className:"intermeal-checkbox"},r.a.createElement("input",{type:"checkbox",checked:m,onChange:function(){return s(t)}})," ZM?"),r.a.createElement(d,{id:t,name:"name",description:"Name",value:n,onChange:function(e){return g(e)}}),v&&r.a.createElement(b,{allSuggestions:["banane","bambus","br\xf6tchen","apfel","ananas"],searchingText:n,handleSuggestionClick:function(e){return E(e,t)}}),r.a.createElement(d,{id:t,name:"grams",description:"Gramm",value:l,onChange:function(e){return g(e)}}),r.a.createElement(d,{id:t,name:"carbohydratesPer100Grams",description:"Kohlenhydrate pro 100g",value:u,onChange:function(e){return g(e)}}),r.a.createElement("hr",null))}function v(e){var t=e.foodItems,a=void 0===t?[]:t,n=e.addNewFoodItem,o=e.handleIsIntermealChange,l=e.handleChange,c=e.deleteFoodItem,u=e.handleSuggestionClick;return r.a.createElement("div",null,r.a.createElement("h3",null,"Elemente"),a.map((function(e){return r.a.createElement(f,{key:e.key,id:e.id,name:e.name,grams:e.grams,carbohydratesPer100Grams:e.carbohydratesPer100Grams,isIntermeal:e.isIntermeal,handleIsIntermealChange:o,handleChange:l,deleteFoodItem:c,handleSuggestionClick:u})})),r.a.createElement("p",null,r.a.createElement("button",{className:"add-new-food-item-button",onClick:function(){return n()}})))}function E(e){var t=e.totalIE,a=e.totalMainMealKE,n=e.totalIntermealKE,o=e.totalKE,l=e.totalCorrectionInsulin,c=e.outputRef;return r.a.createElement("div",{ref:c},""===t||void 0==t||t<=0?"":r.a.createElement("p",{className:"output"},"Hauptmahlzeit-KE : ",a," KE ",r.a.createElement("br",null),"Zwischenmahlzeit-KE : ",n," KE ",r.a.createElement("br",null),"Gesamt-KE: ",o," KE ",r.a.createElement("br",null),r.a.createElement("br",null),"Korrektur-Insulin: ",l," IE  ",r.a.createElement("br",null),"Gesamt-Insulin: ",t," IE"))}function I(e,t){var a="insulin-calculator-"+e,r=Object(n.useState)((function(){var e=localStorage.getItem(a);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),o=Object(s.a)(r,2),l=o[0],c=o[1];return Object(n.useEffect)((function(){null!=l&&localStorage.setItem(a,JSON.stringify(l))}),[a,l]),[l,c]}function S(e){e.hideLoadingScreen;var t=I("lastSavedData"),a=Object(s.a)(t,2),o=a[0],l=a[1],d=Object(n.useState)(""),h=Object(s.a)(d,2),b=h[0],f=h[1],S=I("".concat(ne(),"-targetBloodSugar")),C=Object(s.a)(S,2),p=C[0],O=C[1],j=I("".concat(ne(),"-correctionFactor")),y=Object(s.a)(j,2),k=y[0],F=y[1],N=I("".concat(ne(),"-carbohydrateFactor")),K=Object(s.a)(N,2),B=K[0],w=K[1],G=Object(n.useState)([]),M=Object(s.a)(G,2),P=M[0],x=M[1],T=Object(n.useState)(""),L=Object(s.a)(T,2),J=L[0],z=L[1],D=Object(n.useState)(""),R=Object(s.a)(D,2),Z=R[0],A=R[1],H=Object(n.useState)(""),V=Object(s.a)(H,2),W=V[0],q=V[1],Q=Object(n.useState)(""),U=Object(s.a)(Q,2),X=U[0],Y=U[1],$=Object(n.useState)(""),_=Object(s.a)($,2),ee=_[0],te=_[1],ae=Object(n.useRef)();function ne(){var e=(new Date).toLocaleTimeString().split(":"),t=Object(s.a)(e,2),a=t[0],n=t[1],r=oe(a)+oe(n)/60;return r<=11.5?"morning":r<=16?"midday":"evening"}function re(e){var t=e.target,a=t.name,n=t.value,r=t.id,o=P.map((function(e){if(r==e.id){if("name"===a){var t="".concat("insulin-calculator-","foodItem-").concat(n.toLowerCase(),"-carbohydratesPer100Grams"),o=localStorage.getItem(t);if(null!=o){var l,c=JSON.parse(o);return Object(i.a)(Object(i.a)({},e),{},(l={},Object(u.a)(l,a,n),Object(u.a)(l,"carbohydratesPer100Grams",c),l))}}if("carbohydratesPer100Grams"===a&&""!==e.name&&"."!==e.name[0]){var m="".concat("insulin-calculator-","foodItem-").concat(e.name.toLowerCase(),"-carbohydratesPer100Grams");""!==n?localStorage.setItem(m,JSON.stringify(n)):localStorage.removeItem(m)}return Object(i.a)(Object(i.a)({},e),{},Object(u.a)({},a,n))}return e}));x(o)}function oe(e){var t=e.slice();t=t.replace(",",".");var a=parseFloat(t);return Number.isNaN(a)?-1:a}function le(){var e="ein oder mehrere Werte sind nicht g\xfcltig";function t(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=0,r=t;n<r.length;n++){var o=r[n];if(-1===oe(o))return!1}return!0}function a(a){return t(a.grams,a.carbohydratesPer100Grams)?oe(a.grams)*(oe(a.carbohydratesPer100Grams)/100)/10:(alert(e),0)}var n=function(a,n,r){return t(a,n,r)?(oe(a)-oe(n))/oe(r):(""!==a&&alert(e),0)}(b,p,k);q(Math.round(10*n)/10);var r,o=0,l=0,u=Object(c.a)(P);try{for(u.s();!(r=u.n()).done;){var i=r.value;o+=a(i),l+=i.isIntermeal?a(i):0}}catch(s){u.e(s)}finally{u.f()}if(A(Math.round(10*o)/10),Y(Math.round(10*l)/10),te(Math.round(10*(o-l))/10),!t(B))return alert(e),-1;var m=o*oe(B);m+=n,m=Math.round(10*m)/10,z(m),ae.current.scrollIntoView({smooth:!0})}return r.a.createElement("div",null,r.a.createElement("h1",null,"Insulin Rechner"),r.a.createElement("p",null,r.a.createElement("button",{className:"load-data-button",onClick:function(){if(null!=o){var e=o.foodItems;x(e),le()}}},"Daten laden")),r.a.createElement(g,{setBloodSugar:f,setTargetBloodSugar:O,setCorrectionFactor:F,setCarbohydrateFactor:w,bloodSugar:b,targetBloodSugar:p,correctionFactor:k,carbohydrateFactor:B}),r.a.createElement(v,{foodItems:P,addNewFoodItem:function(){var e=[].concat(Object(m.a)(P),[{key:Math.random(),id:Math.random(),isIntermeal:!1}]);x(e)},handleIsIntermealChange:function(e){var t=P.map((function(t){return e==t.id?Object(i.a)(Object(i.a)({},t),{},{isIntermeal:!t.isIntermeal}):t}));x(t)},handleChange:re,deleteFoodItem:function(e){for(var t,a=0;a<P.length;a++)if(e==P[a].id){t=a;break}var n=Object(m.a)(P);n.splice(t,1),x(n)},handleSuggestionClick:function(e,t){re({target:{name:"name",value:e,id:t}})}}),r.a.createElement("button",{className:"save-data-button",onClick:function(){l({foodItems:P})}},"Daten speichen"),r.a.createElement("button",{className:"calculateIE-button",onClick:le},"Berechne IE"),r.a.createElement(E,{totalIE:J,totalMainMealKE:ee,totalIntermealKE:X,totalKE:Z,totalCorrectionInsulin:W,outputRef:ae}))}l.a.render(r.a.createElement(S,{hideLoadingScreen:function(){document.getElementById("loadingScreen").classList.add("hide")}}),document.getElementById("root"))},3:function(e,t,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.f0344965.chunk.js.map